
## Affinity
- nodeAffinity
- podAffinity
You can indicate that a rule is soft or preferred, so that the scheduler still schedules the Pod even if it can't find a matching node.

### nodeAffinity
There are two types of node affinity:
- 1. requiredDuringSchedulingIgnoredDuringExecution:
- 2. preferredDuringSchedulingIgnoredDuringExecution:
 
#### requiredDuringSchedulingIgnoredDu ringExecution: 
The scheduler can't schedule the Pod unless the rule is met. Like nodeSelector, but with a more expressive syntax.

`ingIgnoredDu ringExecution`: pod run houar por lebel remove korle pod jeno run kore.

Example: 
- In: ekhane lebel + value diutai dea lagbe
<img width="597" height="254" alt="image" src="https://github.com/user-attachments/assets/fca2bf68-8ffc-4061-8a5f-7adf68cc4113" />

- NotIn: ekhane node er lebel large hole ei node e run korbe na

<img width="675" height="283" alt="image" src="https://github.com/user-attachments/assets/754180b2-d785-4515-a240-52de5bda1516" />
 
- Exists: ekhane label key: size holei run korbe. Value dea jabe na.

<img width="720" height="249" alt="image" src="https://github.com/user-attachments/assets/cdda6764-d38f-4ddc-84e2-f3fc3a3acc32" />

- DoedNotExixr: Jekhane lebel key: size dea thakbe sekhane run korbe na 
<img width="811" height="265" alt="image" src="https://github.com/user-attachments/assets/74eb9152-be14-4a0e-ab1c-8f780235e5d5" />

#### preferredDuringSchedulingIgnoredDuringExecution: 
The scheduler tries to find a node that meets the rule. If a matching node is not available, the scheduler still schedules the Pod.

weight er value 1-100 hote pare.  

Ami prefer korchi nmve te run korbe ,, nvme lebel e run na korle korle onno node e run korbe.

<img width="607" height="255" alt="image" src="https://github.com/user-attachments/assets/17130ec8-b3a8-4aa3-b049-fa664046d0be" />


### podAffinity (Inter-pod affinity/anti-affinity) 
You can constrain a Pod using labels on other Pods running on the node (or other topological domain), instead of just node labels, which allows you to define rules for which Pods can be co-located on a node.

Inter-pod affinity/anti-affinity allows you to constrain Pods against labels on other Pods.

- lebel jodi match kore taile pod same node e run korbe. taile eta affinity
- pod run houar somy jodi kono specifiv lebel kortha bole dea thake tiale and oi lebel ala pod jodi kono node e run kore taile new pod run korar somy ei node run korbe na. label jodi match kore tail pod oi node e run na kore onno node e run korbe. jemon dns1 pod dei node run koreche sei node e jeno dns3 pod run na kore. eta holo pod antiaffinity

zone = Banani
- worker1
- worker2

zone = dhanmondi
- worker3
- worler4

dns1 >> zone banani

dns2 >> zone dhanmond i


kubectl label node kworker1 zone=banani

kubectl label node kworker2 zone=banani

kubectl label node kworker3 zone=dhanmondi

kubectl label node kworker4 zone=dhanmondi

<img width="793" height="562" alt="image" src="https://github.com/user-attachments/assets/da87c056-4812-4268-98cd-3e02483a0d9c" />

akhon 2 ta dns banani ar dhanmondi te eun kora ache. ami arekta dns3 banai te run korbo.. kintu bananir je node e dns run kora ache si node run na hoye jenno onno node e run hoi. etar jonno pod affinity
<img width="790" height="367" alt="image" src="https://github.com/user-attachments/assets/03b2da2c-e368-4b76-a6f1-17131ee5e130" />

