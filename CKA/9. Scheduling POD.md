
## Scheduling POD

### Manual Scheduling

#### Move Scheduler File
```bash
kubectl get pods --namespace kube-system
kubectl get pods -A
cd /etc/kubernetes/manifests/
mv  kube-scheduler.yaml /root/
kubectl get pods -A   # We can see there is no scheduler
```

#### Check
```bash
kubectl run pod1 --image nginx
kubectl get pods    # We can see the pod is pending state
kubectl describe pods
kubectl delete pod pod1
```


```bash
kubectl run manualpod1 --image nginx -o yaml --dry-run=client > manualpod1.yaml
vi manualpod1
  nodeName: worker1   # Add this line
```
<img width="329" height="308" alt="image" src="https://github.com/user-attachments/assets/a9c19213-6057-4cdb-8925-905f6ec9d993" />

```bash
kubectl apply -f manualpod1.yaml
kubectl get pods -o wide    # we can see the pod running on worker 1
```

#### Return back scheduler file 
```bash
cd /etc/kubernetes/manifests/
mv /root/kube-scheduler.yaml .

```

**** We never off scheduler, here we off for pracice. If we mention `nodeName` during scheduler running is must run no desire node. 

```bash
kubectl run manualpod2 --image nginx -o yaml --dry-run=client > manualpod2.yaml
vi manualpod2.yaml
kubectl get pod -o wide    # we will see the manualpod2 running wunning on woker2 
```
<img width="348" height="304" alt="image" src="https://github.com/user-attachments/assets/4bb01b73-107c-465a-a540-7265155b5d13" />


### Node Selector 
dbpod >> i/o

    worker1  >> disk=nvme
    worker2  >> disk=ssd

#### lebel the node
- kubectl lebel node worker1 disk=nvme
- kubectl lebel node worker2 disk=ssd

```bash
kubectl get nodes --show-labels
kubectl get nodes --show-labels worker1
kubectl get nodes --selector disk=nvme
kubectl get nodes --selector kubernetes.io/os=linux
```

#### Label the node
```bash
kubectl label nodes worker2 disk=nvme
kubectl get nodes --selector disk=nvme
````

#### Creat a yaml name nodeselector.yaml
```yaml
---
apiVersion: v1
kind: Pod
metadata:
  labels:
    run: nodeselector
  name: nodeselector
spec:
  nodeSelector:
   disk: nvme
  containers:
  - image: nginx
    name: manualpod1
    resources: {}
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: {}
````

#### Run yaml file
```bash
kubectl apply -f nodeselector.yaml
````

#### Check
```bash
kubectl get pods
kubectl get pod -o wide
```


